{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ahj-media/./src/js/Timeline.js","webpack://ahj-media/./src/js/app.js","webpack://ahj-media/./src/index.js"],"sourcesContent":["export default class Timeline {\r\n   init() {\r\n      this.renderTimeline();\r\n   }\r\n   renderTimeline() {\r\n      this.timeline = document.createElement(\"div\");\r\n      this.timeline.classList.add(\"timeline\");\r\n      this.container = document.createElement(\"div\");\r\n      this.container.classList.add(\"container\");\r\n      this.timeline.appendChild(this.container);\r\n      this.messageForm = document.createElement(\"form\");\r\n      this.messageForm.classList.add(\"message-form\");\r\n      this.messageForm.innerHTML =\r\n         \"<input id = 'message-input' placeholder = '–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç, –∑–∞–ø–∏—à–∏—Ç–µ –≤–∏–¥–µ–æ –∏–ª–∏ –∞—É–¥–∏–æ'>\";\r\n      this.messageForm.innerHTML +=\r\n         \"<div class = 'record-audio'> </div> <div class = 'record-video'> </div>\";\r\n      this.timeline.appendChild(this.messageForm);\r\n      this.askPosition = document.createElement(\"form\");\r\n      this.askPosition.classList.add(\"ask-position\");\r\n      this.askPosition.innerHTML =\r\n         \"<div> –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ <br> –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Ä—É—á–Ω—É—é <br> –®–∏—Ä–æ—Ç–∞ –∏ –¥–æ–ª–≥–æ—Ç–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é </div> <input id = 'ask-input'> <div class = 'btn-group'> <button class = 'btn cancel-btn'> –û—Ç–º–µ–Ω–∞ </button> <button class = 'btn ok-btn'> OK </button></div>\";\r\n      this.invalidMessage = document.createElement(\"div\");\r\n      this.invalidMessage.classList.add(\"invalid-message\");\r\n      this.invalidMessage.innerText = \"–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ–≤–∞–ª–∏–¥–Ω—ã\";\r\n      document.querySelector(\"body\").appendChild(this.timeline);\r\n      this.noAudio = document.createElement(\"div\");\r\n      this.noAudio.classList.add(\"no-audio\");\r\n      this.noAudio.innerHTML =\r\n         \"<div class = 'no-audio-text'> –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∑–∞–ø–∏—Å—å –∞—É–¥–∏–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞, –∫—É–ø–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏–ª–∏ –¥–∞–π—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–≤—É–∫–æ–∑–∞–ø–∏—Å–∏ </div> <button class = 'btn cancel-btn'> OK </button>\";\r\n      this.noAudio.querySelector(\".btn\").onclick = () =>\r\n         (this.noAudio.style.display = \"none\");\r\n      this.timeline.appendChild(this.noAudio);\r\n      this.messageForm.addEventListener(\"submit\", (evt) => {\r\n         evt.preventDefault();\r\n         this.publishTextMessage();\r\n      });\r\n      this.messageForm\r\n         .querySelector(\".record-audio\")\r\n         .addEventListener(\"click\", () => {\r\n            this.createAudio();\r\n         });\r\n      this.messageForm\r\n         .querySelector(\".record-video\")\r\n         .addEventListener(\"click\", () => {\r\n            this.createVideo();\r\n         });\r\n   }\r\n   getPosition() {\r\n      navigator.geolocation.getCurrentPosition(\r\n         (position) =>\r\n         (this.position = {\r\n            latitude: position.coords.latitude,\r\n            longtitude: position.coords.longitude,\r\n         }),\r\n         () => (this.position = null)\r\n      );\r\n   }\r\n   createTextMessage(text, latitude, longtitude) {\r\n      const message = document.createElement(\"div\");\r\n      message.classList.add(\"message\");\r\n      message.innerHTML = `<div class = 'message-header'> ${new Date().toLocaleDateString()}, ${new Date().toLocaleTimeString()} </div> <div class = 'message-text'> ${text} </div> <div class = 'position'> üìç ${latitude}, ${longtitude} </div>`;\r\n      this.container.appendChild(message);\r\n      document.querySelector(\"#message-input\").value = \"\";\r\n   }\r\n   publishTextMessage() {\r\n      this.getPosition();\r\n      setTimeout(() => {\r\n         this.text = document.querySelector(\"#message-input\").value;\r\n         if (!this.text) {\r\n            return;\r\n         }\r\n         if (this.position) {\r\n            this.createTextMessage(\r\n               this.text,\r\n               this.position.latitude,\r\n               this.position.longtitude\r\n            );\r\n         } else {\r\n            this.timeline.appendChild(this.askPosition);\r\n            this.getManualPosition();\r\n         }\r\n      }, 3000);\r\n   }\r\n   getManualPosition() {\r\n      this.askPosition\r\n         .querySelector(\"#ask-input\")\r\n         .addEventListener(\"input\", () => {\r\n            if (document.querySelector(\".invalid-message\")) {\r\n               this.invalidMessage.remove();\r\n            }\r\n         });\r\n      this.askPosition.querySelector(\".ok-btn\").onclick = (evt) => {\r\n         evt.preventDefault();\r\n         const coords = this.askPosition.querySelector(\"#ask-input\").value;\r\n         if (this.verifyCoords(coords)) {\r\n            this.askPosition.remove();\r\n            this.createTextMessage(\r\n               this.text,\r\n               this.position.latitude,\r\n               this.position.longitude\r\n            );\r\n         } else {\r\n            this.askPosition.appendChild(this.invalidMessage);\r\n         }\r\n      };\r\n      this.askPosition\r\n         .querySelector(\".cancel-btn\")\r\n         .addEventListener(\"click\", (evt) => {\r\n            evt.preventDefault();\r\n            this.askPosition.remove();\r\n         });\r\n   }\r\n   verifyCoords(coords) {\r\n      if (\r\n         /^\\[([-+]?)([\\d]{1,2})(((\\.)(\\d+)(,)))(\\s*)(([-+]?)([\\d]{1,3})((\\.)(\\d+))?)\\]$/.test(\r\n            coords\r\n         ) ||\r\n         /^([-+]?)([\\d]{1,2})(((\\.)(\\d+)(,)))(\\s*)(([-+]?)([\\d]{1,3})((\\.)(\\d+))?)$/.test(\r\n            coords\r\n         )\r\n      ) {\r\n         let coordinates = coords.replace(\"[\", \"\");\r\n         coordinates = coordinates.split(\",\");\r\n         // eslint-disable-next-line no-console\r\n         this.position = {\r\n            latitude: Number.parseFloat(coordinates[0]),\r\n            longitude: Number.parseFloat(coordinates[1]),\r\n         };\r\n\r\n         return true;\r\n      }\r\n      return false;\r\n   }\r\n   recorderTimer(element) {\r\n      let minutes = 0;\r\n      let seconds = 0;\r\n      setInterval(() => {\r\n         seconds += 1;\r\n         if (seconds === 60) {\r\n            minutes += 1;\r\n            seconds = 0;\r\n         }\r\n         if (seconds < 10) {\r\n            // eslint-disable-next-line no-param-reassign\r\n            element.innerText = `${minutes}:0${seconds}`;\r\n            return;\r\n         }\r\n         // eslint-disable-next-line no-param-reassign\r\n         element.innerText = `${minutes}:${seconds}`;\r\n      }, 1000);\r\n   }\r\n   async createAudio() {\r\n      if (!navigator.mediaDevices) {\r\n         this.noAudio.style.display = \"block\";\r\n      }\r\n      try {\r\n         this.stream = await navigator.mediaDevices.getUserMedia({\r\n            audio: true,\r\n            video: false,\r\n         });\r\n      } catch (e) {\r\n         this.noAudio.style.display = \"block\";\r\n         return;\r\n      }\r\n      this.audioRecorder = document.createElement(\"div\");\r\n      this.audioRecorder.classList.add(\"audio-recorder\");\r\n      this.audioRecorder.innerHTML =\r\n         \"<div class = 'save-record'> </div> <div class = 'record-timer'> 0:00 </div> <div class = 'cancel-record'></div>\";\r\n      const recorder = new MediaRecorder(this.stream);\r\n      this.chunks = [];\r\n      recorder.addEventListener(\"start\", () => {\r\n         this.messageForm.appendChild(this.audioRecorder);\r\n         this.recorderTimer(document.querySelector(\".record-timer\"));\r\n      });\r\n      recorder.addEventListener(\"dataavailable\", (evt) => {\r\n         this.chunks.push(evt.data);\r\n      });\r\n      recorder.addEventListener(\"stop\", () => {\r\n         this.sourse = URL.createObjectURL(this.chunks[0]);\r\n         const text = `<audio controls src = '${this.sourse}'> </audio>`;\r\n         this.getPosition();\r\n         setTimeout(() => {\r\n            this.createTextMessage(\r\n               text,\r\n               this.position.latitude,\r\n               this.position.longtitude\r\n            );\r\n         }, 4000);\r\n      });\r\n      recorder.start();\r\n      this.audioRecorder\r\n         .querySelector(\".save-record\")\r\n         .addEventListener(\"click\", () => {\r\n            this.audioRecorder.remove();\r\n            recorder.stop();\r\n         });\r\n   }\r\n\r\n   async createVideo() {\r\n      if (!navigator.mediaDevices) {\r\n         this.noAudio.style.display = \"block\";\r\n      }\r\n      try {\r\n         this.stream = await navigator.mediaDevices.getUserMedia({\r\n            audio: true,\r\n            video: true,\r\n         });\r\n      } catch (e) {\r\n         this.noAudio.style.display = \"block\";\r\n         return;\r\n      }\r\n      this.audioRecorder = document.createElement(\"div\");\r\n      this.audioRecorder.classList.add(\"audio-recorder\");\r\n      this.audioRecorder.innerHTML =\r\n         \"<div class = 'save-record'> </div> <div class = 'record-timer'> 0:00 </div> <div class = 'cancel-record'></div>\";\r\n      const recorder = new MediaRecorder(this.stream);\r\n      this.chunks = [];\r\n      recorder.addEventListener(\"start\", () => {\r\n         this.messageForm.appendChild(this.audioRecorder);\r\n         this.recorderTimer(document.querySelector(\".record-timer\"));\r\n      });\r\n      recorder.addEventListener(\"dataavailable\", (evt) => {\r\n         this.chunks.push(evt.data);\r\n      });\r\n      recorder.addEventListener(\"stop\", () => {\r\n         this.sourse = URL.createObjectURL(this.chunks[0]);\r\n         const text = `<video width = '300' height = '200' controls src = '${this.sourse}'> </video>`;\r\n         this.getPosition();\r\n         setTimeout(() => {\r\n            this.createTextMessage(\r\n               text,\r\n               this.position.latitude,\r\n               this.position.longtitude\r\n            );\r\n         }, 4000);\r\n      });\r\n      recorder.start();\r\n      this.audioRecorder\r\n         .querySelector(\".save-record\")\r\n         .addEventListener(\"click\", () => {\r\n            this.audioRecorder.remove();\r\n            recorder.stop();\r\n         });\r\n   }\r\n}\r\n","import Timeline from \"./Timeline\";\n\nconst widgetTimeLine = new Timeline();\nwidgetTimeLine.init();\n","import './css/style.css';\r\n\r\nimport './js/app';\r\n"],"names":["Timeline","init","renderTimeline","timeline","document","createElement","classList","add","container","appendChild","messageForm","innerHTML","askPosition","invalidMessage","innerText","querySelector","noAudio","onclick","style","display","addEventListener","evt","preventDefault","publishTextMessage","createAudio","createVideo","getPosition","navigator","geolocation","getCurrentPosition","position","latitude","coords","longtitude","longitude","createTextMessage","text","message","Date","toLocaleDateString","toLocaleTimeString","value","setTimeout","getManualPosition","remove","verifyCoords","test","coordinates","replace","split","Number","parseFloat","recorderTimer","element","minutes","seconds","setInterval","mediaDevices","stream","getUserMedia","audio","video","e","audioRecorder","recorder","MediaRecorder","chunks","push","data","sourse","URL","createObjectURL","start","stop","widgetTimeLine"],"sourceRoot":""}